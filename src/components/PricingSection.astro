---
import PricingDynamic from "./PricingDynamic.vue";

const plans = [
  {
    title: "Free Plan",
    price: "$0.0",
    billingInfo: "Per user/month, billed annually",
    icon: `<svg width="33" height="32" viewBox="0 0 33 32" fill="none"><path d="M16.501 30.333C24.4171..."/></svg>`,
    features: [
      "Access to core AI tools",
      "Up to 1000 total meeting minutes",
      "Up to 100 guests per meeting",
      "End-to-end encryption",
    ],
    highlighted: false,
    button: { text: "Try It Free", link: "/onboarding" }
  },
  {
    title: "Premium Plan",
    price: "$10.0",
    billingInfo: "Per user/month, billed annually",
    icon: `<svg width="33" height="32" ... /></svg>`,
    features: [
      "Access to core AI tools",
      "Unlimited meeting duration",
      "Screen sharing",
      "Live Recording",
      "Breakout rooms",
    ],
    highlighted: true,
    button: { text: "Try It Free", link: "/onboarding" }
  },
  {
    title: "Organization Plan",
    price: "$20.0",
    billingInfo: "Per user/month, billed annually",
    icon: `<svg width="33" height="32" ... /></svg>`,
    features: [
      "Access to core AI tools",
      "All Premium features",
      "Up to 1000 guests",
      "Custom Authentication",
      "Dedicated support",
    ],
    highlighted: false,
    button: { text: "Contact Us", link: "mailto:support@sonacove.com" }
  }
];
---

<section class="py-20 md:py-28 bg-white" id="pricing">
  <div class="container mx-auto px-4">
    <!-- Header -->
    <div class="text-center max-w-4xl mx-auto">
      <p class="text-lg font-semibold text-orange-600 mb-2">Pricing</p>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-8">
        Make magic with your passionate service with Sonacove Meets
      </h2>

      <!-- Billing Toggle -->
      <div class="inline-flex bg-gray-100 rounded-lg p-1 space-x-1">
        <button class="px-6 py-2 bg-white text-black font-semibold rounded-md shadow-sm text-sm">
          Monthly billing
        </button>
        <button class="px-6 py-2 text-gray-500 font-semibold hover:text-black rounded-md text-sm">
          Annual billing
        </button>
      </div>
    </div>

    <!-- Cards -->
    <div class="grid lg:grid-cols-3 gap-8 mt-16 max-w-7xl mx-auto">
      {plans.map((plan) => (
        <div
          class:list={[
            "rounded-2xl p-8 border transition-transform duration-300",
            plan.highlighted
              ? "bg-orange-600 text-white shadow-2xl scale-105"
              : "bg-white text-black border-gray-200 hover:scale-105 hover:shadow-lg",
          ]}
          data-plan={plan.title}
        >
          <!-- Header -->
          <div class="flex items-center gap-4 mb-6">
            <div class="w-10 h-10 flex items-center justify-center rounded-full">
              <Fragment set:html={plan.icon} />
            </div>
            <h3 class="text-2xl font-semibold">{plan.title}</h3>
          </div>

          <!-- Price -->
          <div class="mb-8">
            <span class="text-5xl font-bold plan-price">{plan.price}</span>
            <span class="text-lg opacity-80">/month</span>
            <p class="opacity-70 mt-2">{plan.billingInfo}</p>
          </div>

          <!-- CTA -->
          <a
            href={plan.button.link}
            class:list={[
              "group flex items-center justify-between w-full p-2 rounded-full text-lg font-semibold text-left transition-colors",
              plan.highlighted
                ? "bg-white text-orange-600 hover:bg-gray-200"
                : "bg-black text-white hover:bg-gray-800",
            ]}
          >
            <span class="pl-4">{plan.button.text}</span>
            <span
              class:list={[
                "w-10 h-10 rounded-full flex items-center justify-center transition-transform group-hover:translate-x-1",
                "bg-orange-600 text-white",
              ]}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
              </svg>
            </span>
          </a>

          <!-- Features -->
          <hr class:list={["my-8", plan.highlighted ? "border-white/20" : "border-gray-200"]} />
          <div>
            <p class="text-lg font-semibold mb-4">Benefits</p>
            <ul class="space-y-3">
              {plan.features.map((feature) => (
                <li class="flex items-start gap-3">
                  <span
                    class:list={[
                      "flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center",
                      plan.highlighted ? "bg-white/20 text-white" : "bg-red-50 text-orange-600",
                    ]}
                  >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                    </svg>
                  </span>
                  <span class="opacity-80">{feature}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      ))}
    </div>
  </div>
  <PricingDynamic client:load />
</section>
