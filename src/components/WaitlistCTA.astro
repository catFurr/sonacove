---
---

<section class="py-16">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto text-center mb-8">
      <h2 class="text-3xl font-bold text-gray-800 mb-4">Join Our Waitlist</h2>
      <p class="text-xl text-gray-600">Be among the first to experience Sonacove Meets when we launch. Sign up now to secure your spot for early access.</p>
    </div>
    
    <div class="max-w-md mx-auto">
      <form id="waitlist-form" class="flex flex-col sm:flex-row gap-3">
        <input 
          type="email" 
          id="email" 
          name="email" 
          required
          placeholder="Enter your email"
          class="flex-grow px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"
        />
        <button 
          type="submit" 
          class="px-6 py-3 bg-gradient-to-r from-primary-600 to-accent-600 text-white font-medium rounded-lg hover:opacity-90 transition-all transform hover:scale-[1.02] whitespace-nowrap"
        >
          Join Waitlist
        </button>
      </form>
      <p class="text-xs text-gray-500 mt-2 text-center">
        We respect your privacy. We'll only use your email to send you updates about Sonacove Meets.
      </p>
    </div>
  </div>
</section>

<script>
  import { addContactToBrevo, showSuccessMessage, showErrorMessage } from '../utils/brevo';

  const form = document.getElementById('waitlist-form');
  
  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = (document.getElementById('email') as HTMLInputElement).value;
    
    try {
      await addContactToBrevo(email, 'website_cta');
      
      // Show success message
      const formContainer = form.parentElement;
      if (formContainer) {
        showSuccessMessage(formContainer);
      }
    } catch (error) {
      console.error('Error:', error);
      showErrorMessage(form);
    }
  });
</script>